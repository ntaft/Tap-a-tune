<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Audio Test</title>
    <script>
    var audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    var channels = 2;
    var frameCount = audioCtx.sampleRate * 1.0;
    var myArrayBuffer = audioCtx.createBuffer(channels, frameCount, audioCtx.sampleRate);
    document.addEventListener('keypress', () => {
      for (var channel = 0; channel < channels; channel++) {
        var nowBuffering = myArrayBuffer.getChannelData(channel);
        for (var i = 0; i < frameCount; i++) {
          nowBuffering[i] = Math.random() * 5 - 2;
   }
  }
  // Get an AudioBufferSourceNode.
  // This is the AudioNode to use when we want to play an AudioBuffer
  var source = audioCtx.createBufferSource();
  // set the buffer in the AudioBufferSourceNode
  source.buffer = myArrayBuffer;
  // connect the AudioBufferSourceNode to the
  // destination so we can hear the sound
  source.connect(audioCtx.destination);
  // start the source playing
  source.start();

    })






    </script>
  </head>
  <body>

  </body>
</html>
